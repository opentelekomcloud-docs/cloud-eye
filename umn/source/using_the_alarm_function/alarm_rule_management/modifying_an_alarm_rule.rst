:original_name: ces_01_0078.html

.. _ces_01_0078:

Modifying an Alarm Rule
=======================

Procedure
---------

#. Log in to the management console.
#. In the upper left corner, select a region and project.
#. Click **Service List** in the upper left corner and select **Cloud Eye**.
#. Choose **Alarm Management** > **Alarm Rules**.
#. On the displayed **Alarm Rules** page, use either of the following two methods to modify an alarm rule:

   -  Locate the row containing the alarm rule you want to modify, click **Modify** in the **Operation** column.
   -  Click the name of the alarm rule you want to modify. On the page displayed, click **Modify** in the upper right corner.

#. On the **Modify Alarm Rule** page, modify alarm rule parameters as needed.

   .. table:: **Table 1** Configuring metric alarm parameters

      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Parameter                     | Description                                                                                                                                                                                                                                                                                                    | Example Value         |
      +===============================+================================================================================================================================================================================================================================================================================================================+=======================+
      | Name                          | Specifies the alarm rule name.                                                                                                                                                                                                                                                                                 | alarm-b6al            |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Description                   | (Optional) Provides supplementary information about the alarm rule.                                                                                                                                                                                                                                            | N/A                   |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Alarm Type                    | Specifies the alarm type to which the alarm rule applies.                                                                                                                                                                                                                                                      | Metric                |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Resource Type                 | Specifies the type of the resource the alarm rule is created for.                                                                                                                                                                                                                                              | Elastic Cloud Server  |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Dimension                     | Specifies the metric dimension of the selected resource type.                                                                                                                                                                                                                                                  | ECSs                  |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Monitoring Scope              | Specifies the monitoring scope the alarm rule applies to.                                                                                                                                                                                                                                                      | Resource Groups       |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Monitored Object              | When you set **Monitoring Scope** to **Specific resources**, you can add new monitored objects and remove the original monitored objects.                                                                                                                                                                      | ``-``                 |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Group                         | This parameter is only available if **Monitoring Scope** is set to **Resource groups**.                                                                                                                                                                                                                        | N/A                   |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Method                        | The only option is **Configure manually**.                                                                                                                                                                                                                                                                     | Configure manually    |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Alarm Policy                  | Specifies the policy for triggering an alarm.                                                                                                                                                                                                                                                                  | ``-``                 |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               | Whether to trigger an alarm depends on whether the data in the specified consecutive periods reaches the threshold. For example, Cloud Eye triggers an alarm if the average CPU usage of the monitored object is 80% or more for three consecutive 5-minute periods.                                           |                       |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               | .. note::                                                                                                                                                                                                                                                                                                      |                       |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               |    A maximum of 50 alarm policies can be added to an alarm rule. If any one of these alarm policies is met, an alarm will be triggered.                                                                                                                                                                        |                       |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Metric Name                   | For example:                                                                                                                                                                                                                                                                                                   | CPU Usage             |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               | -  CPU Usage                                                                                                                                                                                                                                                                                                   |                       |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               |    Indicates the CPU usage of the monitored object in percent.                                                                                                                                                                                                                                                 |                       |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               | -  Memory Usage                                                                                                                                                                                                                                                                                                |                       |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               |    Indicates the memory usage of the monitored object in percent.                                                                                                                                                                                                                                              |                       |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Alarm Policy                  | Specifies the policy for triggering an alarm.                                                                                                                                                                                                                                                                  | N/A                   |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               | For example, an alarm is triggered if the average value of the monitored metric is 80% or more for three consecutive 5-minute periods.                                                                                                                                                                         |                       |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Alarm Severity                | Specifies the alarm severity, which can be **Critical**, **Major**, **Minor**, or **Informational**.                                                                                                                                                                                                           | Major                 |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Operation                     | You can click **Delete** to delete an alarm policy.                                                                                                                                                                                                                                                            | Delete                |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               | .. note::                                                                                                                                                                                                                                                                                                      |                       |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               |    Under the policy table, you can also click **Add Alarm Policy** to add more alarm policies if needed.                                                                                                                                                                                                       |                       |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Mount Point or Disk           | This parameter is displayed on the console and can be configured only when the following conditions are met:                                                                                                                                                                                                   | /dev                  |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               | -  The monitoring scope is **Resource groups** or **Specific resources**.                                                                                                                                                                                                                                      |                       |
      |                               | -  **Resource Type**: ECSs or BMSs                                                                                                                                                                                                                                                                             |                       |
      |                               | -  **Method**: **Configure manually**.                                                                                                                                                                                                                                                                         |                       |
      |                               | -  **Metric Name** in an alarm policy: disk metric whose name is prefixed with **Agent**                                                                                                                                                                                                                       |                       |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               | For the Windows OS, enter a drive letter, such as **C**, **D**, or **E**. For the Linux OS, enter a mount point, such as **/dev** or **/opt**.                                                                                                                                                                 |                       |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Alarm Notification            | Specifies whether to notify users by sending emails, SMS messages, or HTTP/HTTPS messages.                                                                                                                                                                                                                     | N/A                   |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Notification Object           | Specifies the object to which alarm notifications will be sent. You can select the account contact or a topic.                                                                                                                                                                                                 |                       |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               | -  The account contact is the tenant owner. If a user registers both a mobile number and an email address, they will receive alarm information through both channels. However, if only one of these contact methods is registered, the alarm information will be sent exclusively to that registered one.      |                       |
      |                               | -  A topic is a specific event type for publishing messages or subscribing to notifications. If the required topic is not available, create one and add subscriptions to it first. For details, see :ref:`Creating a Topic <en-us_topic_0085216039>` and :ref:`Adding Subscriptions <en-us_topic_0084572343>`. |                       |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Notification Window           | Cloud Eye sends notifications only within the validity period specified in the alarm rule.                                                                                                                                                                                                                     | N/A                   |
      |                               |                                                                                                                                                                                                                                                                                                                |                       |
      |                               | If **Notification Window** is set to **00:00-08:00**, Cloud Eye sends notifications only from 00:00 to 08:00.                                                                                                                                                                                                  |                       |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Trigger Condition             | Specifies the condition for triggering an alarm notification. You can select **Generated alarm** (when an alarm is generated), **Cleared alarm** (when an alarm is cleared), or both.                                                                                                                          | N/A                   |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | (Optional) Enterprise Project | Specifies the enterprise project that the alarm rule belongs to. Only users with the enterprise project permissions can manage the alarm rule.                                                                                                                                                                 | default               |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

   .. table:: **Table 2** Configuring event alarm parameters

      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Parameter                     | Description                                                                                                                                                                                                                                                                                                    | Example Value                                                                           |
      +===============================+================================================================================================================================================================================================================================================================================================================+=========================================================================================+
      | Name                          | Specifies the alarm rule name.                                                                                                                                                                                                                                                                                 | alarm-b6al                                                                              |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Description                   | (Optional) Provides supplementary information about the alarm rule.                                                                                                                                                                                                                                            | N/A                                                                                     |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Alarm Type                    | Specifies the alarm type to which the alarm rule applies.                                                                                                                                                                                                                                                      | Event                                                                                   |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Event Type                    | Specifies the event type, which can be **System event** or **Custom event**.                                                                                                                                                                                                                                   | Custom event                                                                            |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Event Source                  | Specifies the service the event is generated for.                                                                                                                                                                                                                                                              | Elastic Cloud Server                                                                    |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Monitoring Scope              | Specifies the monitoring scope the alarm rule applies to.                                                                                                                                                                                                                                                      | All resources                                                                           |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Alarm Policy                  | Specifies the policy for triggering an alarm.                                                                                                                                                                                                                                                                  | N/A                                                                                     |
      |                               |                                                                                                                                                                                                                                                                                                                |                                                                                         |
      |                               | The event that triggers an alarm is an instant operation. For example, if the event **Reboot ECS** occurs, an alarm will be triggered.                                                                                                                                                                         |                                                                                         |
      |                               |                                                                                                                                                                                                                                                                                                                |                                                                                         |
      |                               | .. note::                                                                                                                                                                                                                                                                                                      |                                                                                         |
      |                               |                                                                                                                                                                                                                                                                                                                |                                                                                         |
      |                               |    A maximum of 50 alarm policies can be added to an alarm rule. If any one of these alarm policies is met, an alarm will be triggered.                                                                                                                                                                        |                                                                                         |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Event Name                    | Specifies the event name.                                                                                                                                                                                                                                                                                      | ECS deleted                                                                             |
      |                               |                                                                                                                                                                                                                                                                                                                |                                                                                         |
      |                               | For events supported by event monitoring, see :ref:`Events Supported by Event Monitoring <ces_01_0054>`.                                                                                                                                                                                                       |                                                                                         |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Trigger Mode                  | You can select **Immediate trigger** or **Accumulative trigger** based on the operation severity.                                                                                                                                                                                                              | Immediate trigger                                                                       |
      |                               |                                                                                                                                                                                                                                                                                                                |                                                                                         |
      |                               | -  **Immediate trigger**: An alarm is triggered once an event occurs.                                                                                                                                                                                                                                          |                                                                                         |
      |                               | -  **Accumulative trigger**: An alarm is only triggered when the number of times an event occurs meets the preset value.                                                                                                                                                                                       |                                                                                         |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Alarm Policy                  | Specifies the policy for triggering an alarm.                                                                                                                                                                                                                                                                  | An alarm is triggered if the event occurred for three consecutive periods of 5 minutes. |
      |                               |                                                                                                                                                                                                                                                                                                                |                                                                                         |
      |                               | .. note::                                                                                                                                                                                                                                                                                                      |                                                                                         |
      |                               |                                                                                                                                                                                                                                                                                                                |                                                                                         |
      |                               |    This parameter is mandatory when **Trigger Mode** is set to **Accumulative trigger**.                                                                                                                                                                                                                       |                                                                                         |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Alarm Severity                | Specifies the alarm severity, which can be **Critical**, **Major**, **Minor**, or **Informational**.                                                                                                                                                                                                           | Major                                                                                   |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Operation                     | You can click **Delete** to delete the alarm policy.                                                                                                                                                                                                                                                           | Delete                                                                                  |
      |                               |                                                                                                                                                                                                                                                                                                                |                                                                                         |
      |                               | .. note::                                                                                                                                                                                                                                                                                                      |                                                                                         |
      |                               |                                                                                                                                                                                                                                                                                                                |                                                                                         |
      |                               |    Under the policy table, you can also click **Add Alarm Policy** to add more alarm policies if needed.                                                                                                                                                                                                       |                                                                                         |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Alarm Notification            | Specifies whether to notify users when alarms are triggered. Notifications can be sent by email, SMS message, or HTTP/HTTPS message.                                                                                                                                                                           | N/A                                                                                     |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Notification Object           | Specifies the object to which alarm notifications will be sent. You can select the account contact or a topic.                                                                                                                                                                                                 |                                                                                         |
      |                               |                                                                                                                                                                                                                                                                                                                |                                                                                         |
      |                               | -  The account contact is the tenant owner. If a user registers both a mobile number and an email address, they will receive alarm information through both channels. However, if only one of these contact methods is registered, the alarm information will be sent exclusively to that registered one.      |                                                                                         |
      |                               | -  A topic is a specific event type for publishing messages or subscribing to notifications. If the required topic is not available, create one and add subscriptions to it first. For details, see :ref:`Creating a Topic <en-us_topic_0085216039>` and :ref:`Adding Subscriptions <en-us_topic_0084572343>`. |                                                                                         |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Notification Window           | Cloud Eye sends notifications only within the validity period specified in the alarm rule.                                                                                                                                                                                                                     | N/A                                                                                     |
      |                               |                                                                                                                                                                                                                                                                                                                |                                                                                         |
      |                               | If **Notification Window** is set to **00:00-08:00**, Cloud Eye sends notifications only from 00:00 to 08:00.                                                                                                                                                                                                  |                                                                                         |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | Trigger Condition             | You can only select **Generated alarm** as the condition for triggering alarm notifications.                                                                                                                                                                                                                   | N/A                                                                                     |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+
      | (Optional) Enterprise Project | Specifies the enterprise project that the alarm rule belongs to. Only users with the enterprise project permissions can manage the alarm rule.                                                                                                                                                                 | default                                                                                 |
      +-------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------+

7. Click **Modify**.
